Ext.Loader.setConfig({
    enabled: true,
    paths: {
        'Ldapreport': "../web/app", //camino a la carpeta de la aplicacion
        'Ext.ux': "../web/app/ux"
    }
});

//Ext.require('Ldapreport.view.WindowPassword');
Ext.require('Ext.ux.form.MultiSelect');



Ext.application({
    name: "Ldapreport",
    appFolder: "web/app",
    controllers: [
        'Usuario',
        'Usuarios',
        'Password',
        'TreeLdap'
    ],
    launch: function() {
        
        var v = Ext.create('Ext.window.Window', {
            renderTo: Ext.getBody(),
            iconCls : 'icon-form',
            title : 'Iniciar sesi&oacute;n',
            closable : false,
            id:'idwLogin',
            items: [
                {
                    xtype: 'formLogin'
                }
            ]
        });
        
        v.show();
        
        
        /*Ext.create('Ext.Viewport', {
            renderTo: Ext.getBody(),
            layout: 'border',
            items: [
                {
                    xtype: 'toolbar',
                    region: 'north',
                    cls: 'header',
                    height: 35,
                    items: [
                        '<b class="menu-title">SISTEMA PARA LA GESTION DEL LDAP</b>',
                        '-',
                        // begin using the right-justified button container
                        '->', // same as { xtype: 'tbfill' }
                        {
                            xtype: 'splitbutton',
                            text: 'Reportes',
                            iconCls: 'icon-reportes',
                            listeners: {
                                click: function(t) {
                                    t.showMenu();
                                }
                            },
                            menu: new Ext.menu.Menu({
                                items: [
                                    {
                                        text: 'Usuarios sin iniciar sesi&oacute;n',
                                        id: 'idRepUserSinSesion',
                                        listeners: {
                                            click: function(t) {
                                                window.open(BASE_URL + "reportes/reporteUsuariosSinInicicarSesion/");
                                            }
                                        }
                                    },
                                    {
                                        text: 'Usuarios dado un Grupo',
                                        id: 'idRepUserXGrupo'
                                    }, 
                                    {
                                        text: 'Usuarios con contrase&ntilde;a vencida',
                                        listeners: {
                                            click: function(t) {
                                                window.open(BASE_URL + "reportes/reporteUsuariosPasswordVencida/");
                                            }
                                        }
                                    },
                                    {
                                        text: 'Usuarios con contrase&ntilde;a a punto de vencer',
                                        listeners: {
                                            click: function(t) {
                                                window.open(BASE_URL + "reportes/reporteUsuariosPasswordPtoVencer/");
                                            }
                                        }
                                    },{
                                        text: 'Info. General',
                                        id: 'idbInfo',
                                        iconCls: 'icon-info',
                                        listeners: {
                                            click: function(t, e) {
                                                var info = Ext.create(Ldapreport.view.GridInfo);
                                                Ext.create('Ext.window.Window', {
                                                    title: 'Informaci&oacute;n general sobre totales de usuarios',
                                                    titleAlign: 'center',
                                                    height: 350,
                                                    width: 450,
                                                    layout: 'fit',
                                                    animateTarget: 'idbInfo',
                                                    items: {
                                                        xtype: 'gridInfo'
                                                    }
                                                }).show();
                                            }
                                        }
                                    }
                                ]
                            })
                        },
                        '-',
                        {
                            xtype: 'splitbutton',
                            text: 'Opciones',
                            iconCls: 'icon-options',
                            listeners: {
                                click: function(t) {
                                    t.showMenu();
                                }
                            },
                            menu: new Ext.menu.Menu({
                                items: [
                                    {
                                        text: 'Cerrar sesi&oacute;n',
                                        id: 'idSalir',
                                        iconCls: 'icon-salir',
                                        listeners: {
                                            click: function() {
                                                window.location = BASE_URL + 'welcome/cerrarSesion';
                                            }
                                        }
                                    }
                                ]
                            })
                        }
                    ]
                },
                {
                    xtype: 'treeLdapPanel'

                }, {
                    xtype: 'gridUsuarios',
                    region: 'center'
                }
            ]
        });*/
    }
});